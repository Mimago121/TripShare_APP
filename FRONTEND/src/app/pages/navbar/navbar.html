<nav class="navbar-container">
  <div class="navbar-content">
    
    <a routerLink="/home" class="brand">
      <span class="brand-text">Trip<span class="highlight">Share</span></span>
    </a>

    <div class="nav-links" *ngIf="isLoggedIn">
      <a routerLink="/home" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}">Inicio</a>
      <a routerLink="/trips" routerLinkActive="active-link">Mis Viajes</a>
      <a routerLink="/friends" routerLinkActive="active-link">Amigos</a>
    </div>

    <div class="nav-actions">
      
      <ng-container *ngIf="!isLoggedIn">
        <button class="btn-login" routerLink="/login">Entrar</button>
        <button class="btn-register" routerLink="/register">Registrarse</button>
      </ng-container>

      <div class="user-controls" *ngIf="isLoggedIn">
        
        <button class="icon-btn notification-btn" 
                (click)="toggleNotifications()"
                [class.disabled]="!notificationsEnabled"
                title="Click para activar/desactivar">
          {{ notificationsEnabled ? 'ðŸ””' : 'ðŸ”•' }}
          <span class="badge-dot" *ngIf="notificationsEnabled"></span>
        </button>

        <div class="avatar-dropdown-wrapper">
          <img [src]="userAvatar" alt="User" class="nav-avatar" (click)="toggleDropdown()">
          
          <div class="dropdown-menu fade-in" *ngIf="isDropdownOpen">
            <div class="dropdown-header">
              <span class="dropdown-name">{{ userName }}</span>
              <span class="dropdown-email">Viajero</span>
            </div>
            <hr>
            <a routerLink="/profile" (click)="closeDropdown()" class="dropdown-item">
              ðŸ‘¤ Mi Perfil
            </a>
            <a (click)="logout()" class="dropdown-item text-danger">
              ðŸšª Cerrar SesiÃ³n
            </a>
          </div>
        </div>

        <div class="overlay" *ngIf="isDropdownOpen" (click)="closeDropdown()"></div>

      </div>

    </div>
  </div>
</nav>