<div class="page-layout">
  <app-navbar></app-navbar>

  <main class="dashboard-area fade-in" *ngIf="isLoggedIn; else publicLanding">
    
    <header class="dash-header">
      <h1>Hola, {{ userName }} ğŸ‘‹</h1>
      <p>Â¿Listo para tu prÃ³xima aventura?</p>
    </header>

    <section class="dash-section">
      <div class="section-header">
        <h2>Tus Viajes</h2>
        <button class="btn-create-small" routerLink="/trips">+ Nuevo Viaje</button>
      </div>

      <div class="trips-scroll-container">
        <div class="trip-card create-card" routerLink="/trips">
          <div class="plus-icon">â•</div>
          <span>Planear nuevo viaje</span>
        </div>

        <div class="trip-card" *ngFor="let trip of demoTrips">
          <div class="card-image">
            <img [src]="trip.image" [alt]="trip.destination">
            <span class="days-badge">{{ trip.days }} dÃ­as</span>
          </div>
          <div class="card-details">
            <h3>{{ trip.destination }}</h3>
            <p class="dates">{{ trip.dates }}</p>
            <div class="collaborators">
              <img *ngFor="let friend of trip.friends" [src]="friend" alt="Amigo">
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="dash-section">
      <h2>Destinos populares esta semana</h2>
      <p class="subtitle">InspiraciÃ³n basada en lo que otros viajeros estÃ¡n planeando.</p>
      
      <div class="popular-grid">
        <div class="popular-card" *ngFor="let place of popularDestinations">
          <img [src]="place.image" [alt]="place.name">
          <div class="place-overlay">
            <h3>{{ place.name }}</h3>
            <span>{{ place.country }}</span>
          </div>
        </div>
      </div>
    </section>

  </main>
  
  <ng-template #publicLanding>
    <main class="content-area">
      
      <section class="hero-brand">
        
        <div class="hero-slideshow">
          <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1472214103451-9374bd1c798e?q=80&w=2070&auto=format&fit=crop');"></div>
          <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=2073&auto=format&fit=crop');"></div>
          <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070&auto=format&fit=crop');"></div>
          <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1516483638261-f4dbaf036963?q=80&w=2066&auto=format&fit=crop');"></div>
        </div>

        <div class="hero-overlay"></div>

        <div class="brand-center">
          <h1 class="brand-title">Trip<span class="highlight">Share</span></h1>
          <p class="brand-slogan">
            La forma moderna de viajar con amigos.<br>
            Planifica, divide gastos y disfruta sin estrÃ©s.
          </p>
          
          <div class="hero-btns">
            <button class="btn-primary-hero" routerLink="/register">Empezar Aventura</button>
            <button class="btn-outline-hero" (click)="scrollToFeatures()">Descubrir mÃ¡s</button>
          </div>
        </div>
      </section>

      <section class="press-section">
        <p>CON LA CONFIANZA DE VIAJEROS EN</p>
        <div class="logos-grid">
          <span>âœˆï¸ Skyscanner</span>
          <span>ğŸ¨ Booking</span>
          <span>ğŸŒ Airbnb</span>
          <span>ğŸ—ºï¸ Google Maps</span>
        </div>
      </section>

      <section id="features" class="features-section">
        <h2 class="section-title">Todo lo que necesitas en una sola App</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="icon-box icon-blue">ğŸ—ºï¸</div>
            <h3>Itinerario Visual</h3>
            <p>Visualiza tu ruta en el mapa y arrastra actividades fÃ¡cilmente.</p>
          </div>
          <div class="feature-card">
            <div class="icon-box icon-green">ğŸ’¸</div>
            <h3>Gastos Compartidos</h3>
            <p>OlvÃ­date del Excel. TripShare calcula quiÃ©n debe a quiÃ©n.</p>
          </div>
          <div class="feature-card">
            <div class="icon-box icon-purple">ğŸ‘¥</div>
            <h3>ColaboraciÃ³n Real</h3>
            <p>Invita a tus amigos y editad el plan todos a la vez.</p>
          </div>
          <div class="feature-card">
            <div class="icon-box icon-orange">ğŸ“„</div>
            <h3>Documentos</h3>
            <p>Guarda billetes y reservas para acceder sin conexiÃ³n.</p>
          </div>
          <div class="feature-card">
            <div class="icon-box icon-red">ğŸ—³ï¸</div>
            <h3>Encuestas</h3>
            <p>Â¿Playa o MontaÃ±a? Votad y decidid democrÃ¡ticamente.</p>
          </div>
          <div class="feature-card">
            <div class="icon-box icon-teal">ğŸ“¸</div>
            <h3>Recuerdos</h3>
            <p>Un Ã¡lbum compartido para todas las fotos del grupo.</p>
          </div>
        </div>
      </section>

      <section class="stats-section">
        <div class="stats-container">
          <div class="stat-item">
            <span class="stat-number">10K+</span>
            <span class="stat-label">Viajes Creados</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">4.9 â˜…</span>
            <span class="stat-label">ValoraciÃ³n Usuarios</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">0â‚¬</span>
            <span class="stat-label">Coste (Es Gratis)</span>
          </div>
        </div>
      </section>

      <section class="testimonials-section">
        <h2 class="section-title">Lo que dicen nuestros viajeros</h2>
        <div class="testimonials-grid">
          <div class="testimonial-card" *ngFor="let t of testimonials">
            <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
            <p class="comment">"{{ t.comment }}"</p>
            <div class="user-meta">
              <img [src]="t.avatar" alt="Avatar">
              <div class="user-info">
                <span class="name">{{ t.name }}</span>
                <span class="role">Viajero Experto</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="final-cta">
        <h2>Â¿Listo para despegar?</h2>
        <p>Ãšnete hoy y empieza a planificar tu prÃ³ximo gran viaje.</p>
        <button class="btn-primary-hero" routerLink="/register">Crear cuenta gratis</button>
      </section>

    </main>
  </ng-template>

  <app-footer></app-footer>
</div>